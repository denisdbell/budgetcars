
var page = '<div data-cmp="inventorySpotlightListing" class="inventory-listing cursor-pointer bg-periwinkle panel panel-default" id="574485474" data-qaid="">'+
'										<div class="padding-0 panel-body">'+
'											<div data-cmp="positionedOverlay" class="positioned-overlay">'+
'												<div class="positioned-overlay-wrapper">'+
'													<div data-cmp="positionedOverlayBase" class="positioned-overlay-base">'+
'														<div data-cmp="itemCard" class="item-card row display-flex align-items-stretch">'+
'															<div class="col-xs-4 item-card-side">'+
'																<div data-cmp="inventoryListImage" class="positioned-overlay inventory-listing-media text-center bg-gray-darker">'+
'																	<div class="positioned-overlay-wrapper">'+
'																		<div data-cmp="positionedOverlayBase" class="positioned-overlay-base image-container">'+
'																			<a rel="nofollow" href="https://www.autotrader.com/cars-for-sale/vehicledetails.xhtml?listingId=574485474&zip=33101&referrer=%2Fcars-for-sale%2Fsearchresults.xhtml%3Fzip%3D33101%26city%3DMiami%26listingTypes%3Dused%26sortBy%3Drelevance%26location%3D%255Bobject%2BObject%255D%26incremental%3Dall%26state%3DFL%26firstRecord%3D0%26marketExtension%3Dinclude%26relevanceConfig%3Ddefault%26searchRadius%3D50%26isNewSearch%3Dfalse&listingTypes=used&numRecords=25&firstRecord=0&searchRadius=50&clickType=spotlight"><div style="">'+
'																					<img data-cmp="inventoryImage" width="408" height="306" class="img-responsive-scale ae-img" alt="Used 2016 Honda Accord Sport Sedan - 574485474" title="Used 2016 Honda Accord Sport Sedan" src="./Used Cars for Sale in Miami, FL (with Photos) - Autotrader_files/9c9124557f3d4ebe927c3c90f30bad75.jpg" loading="lazy">'+
'																				</div></a>'+
'																		</div>'+
'																		<div data-cmp="positionedOverlayAnchor" class="positioned-overlay-anchor topRight">'+
'																			<span data-cmp="saveGlyph" class="glyphicon-stack text-gray-base save-glyph text-size-600 cursor-pointer margin-vertical-md margin-horizontal-md"><span class="transparent glyphicon glyphicon-heart"></span><span class="text-inverse glyphicon glyphicon-heart-o"></span></span>'+
'																		</div>'+
'																	</div>'+
'																</div>'+
'															</div>'+
'															<div class="col-xs-8 item-card-content display-flex flex-column justify-content-between">'+
'																<div class="item-card-body margin-bottom-auto">'+
'																	<div>'+
'																		<div class="inventory-listing-body padding-top-3 padding-right-3 margin-bottom-2">'+
'																			<div class="row">'+
'																				<div class="text-left col-xs-8">'+
'																					<div class="padding-bottom-1">'+
'																						<span data-cmp="newlyListed" class="text-accent text-bold text-antialiased margin-right-2">Newly'+
'																							Listed</span>'+
'																					</div>'+
'																					<div class="display-flex justify-content-between">'+
'																						<a rel="nofollow" href="https://www.autotrader.com/cars-for-sale/vehicledetails.xhtml?listingId=574485474&zip=33101&referrer=%2Fcars-for-sale%2Fsearchresults.xhtml%3Fzip%3D33101%26city%3DMiami%26listingTypes%3Dused%26sortBy%3Drelevance%26location%3D%255Bobject%2BObject%255D%26incremental%3Dall%26state%3DFL%26firstRecord%3D0%26marketExtension%3Dinclude%26relevanceConfig%3Ddefault%26searchRadius%3D50%26isNewSearch%3Dfalse&listingTypes=used&numRecords=25&firstRecord=0&searchRadius=50&clickType=spotlight"><h2 data-cmp="subheading" class="text-bold text-size-400 text-size-sm-500 link-unstyled">Used'+
'																								VAR_YEAR VAR_MAKE VAR_MODEL</h2></a>'+
'																					</div>'+
'																				</div>'+
'																				<div class="margin-left-auto col-xs-4 text-right pull-right">'+
'																					<div data-cmp="pricing" class="text-gray-base text-bold text-size-500">'+
'																						<span class="first-price">VAR_PRICE</span>'+
'																					</div>'+
'																				</div>'+
'																			</div>'+
'																			<div class="row">'+
'																				<div class="item-card-specifications col-xs-9 margin-top-4 text-subdued-lighter margin-bottom-3">'+
'																					<div class="text-bold">70,602 miles</div>'+
'																					<ul data-cmp="list" class="list list-inline display-inline margin-bottom-0">'+
'																						<li class=""><span class="text-gray-base text-size-200 text-size-sm-300"><span class="sr-only">Color<!-- -->:<!-- -->'+
'																							</span>Blue</span></li>'+
'																						<li class=""><span class="text-gray-base text-size-200 text-size-sm-300"><span class="sr-only">MPG<!-- -->:<!-- -->'+
'																							</span>27 City / 36 Highway</span></li>'+
'																						<li class=""><span class="text-gray-base text-size-200 text-size-sm-300"><span class="sr-only">Drive Type<!-- -->:<!-- -->'+
'																							</span>2 wheel drive - front</span></li>'+
'																						<li class=""><span class="text-gray-base text-size-200 text-size-sm-300"><span class="sr-only">Engine<!-- -->:<!-- -->'+
'																							</span>4-Cylinder</span></li>'+
'																					</ul>'+
'																				</div>'+
'																			</div>'+
'																		</div>'+
'																	</div>'+
'																</div>'+
'																<div class="item-card-footer margin-top-auto">'+
'																	<div class="listing-footer text-subdued-lightest text-size-200 padding-right-3">'+
'																		<hr>'+
'																		<div class="display-flex flex-wrap justify-content-between align-items-start">'+
'																			<div class="text-left margin-bottom-2 padding-right-5">'+
'																				<div data-cmp="ownerDistance" class="text-bold text-subdued">'+
'																					HGreg.com Doral<span class="text-normal padding-left-1"> (8.5'+
'																						mi. away)</span>'+
'																				</div>'+
'																				<div class="display-flex justify-content-start flex-wrap  margin-top-1" data-cmp="contactInfo">'+
'																					<span data-cmp="phoneNumber" class="display-block">(305)'+
'																						704-7155</span><span class="padding-horizontal-2">|</span>'+
'																					<div>'+
'																						<div data-cmp="emailOwner" activeemaillistingduck="[object Object]" filtersvalues="[object Object]">'+
'																							<span class="text-link display-block">Confirm'+
'																								Availability</span>'+
'																						</div>'+
'																					</div>'+
'																				</div>'+
'																				<div class="display-flex justify-content-start flex-wrap  margin-top-3 margin-top-sm-1" data-cmp="dealerProducts">'+
'																					<a data-cmp="link" href="https://www.autotrader.com/cars-for-sale/vehicledetails.xhtml?listingId=574485474&zip=33101&referrer=%2Fcars-for-sale%2Fsearchresults.xhtml%3Fzip%3D33101%26city%3DMiami%26listingTypes%3Dused%26sortBy%3Drelevance%26location%3D%255Bobject%2BObject%255D%26incremental%3Dall%26state%3DFL%26firstRecord%3D0%26marketExtension%3Dinclude%26relevanceConfig%3Ddefault%26searchRadius%3D50%26isNewSearch%3Dfalse&listingTypes=used&numRecords=25&firstRecord=0&searchRadius=50&clickType=spotlight#homeServices">Video'+
'																						Walkaround</a><span class="padding-horizontal-2">|</span><a data-cmp="link" href="https://www.autotrader.com/cars-for-sale/vehicledetails.xhtml?listingId=574485474&zip=33101&referrer=%2Fcars-for-sale%2Fsearchresults.xhtml%3Fzip%3D33101%26city%3DMiami%26listingTypes%3Dused%26sortBy%3Drelevance%26location%3D%255Bobject%2BObject%255D%26incremental%3Dall%26state%3DFL%26firstRecord%3D0%26marketExtension%3Dinclude%26relevanceConfig%3Ddefault%26searchRadius%3D50%26isNewSearch%3Dfalse&listingTypes=used&numRecords=25&firstRecord=0&searchRadius=50&clickType=spotlight#homeServices">Local'+
'																						Home Delivery</a>'+
'																				</div>'+
'																				<div style="">'+
'																					<img class="margin-top-1 text-link ae-img" alt="Kelley Blue Book Trusted Advisor Program" id="TAP" src="./Used Cars for Sale in Miami, FL (with Photos) - Autotrader_files/ASSET_TAPtile.png" height="44" loading="lazy">'+
'																				</div>'+
'																			</div>'+
'																			<div class="display-flex align-items-center padding-bottom-3">'+
'																				<div class="display-inline-flex align-items-center cursor-pointer padding-left-2">'+
'																					<div style="">'+
'																						<img src="./Used Cars for Sale in Miami, FL (with Photos) - Autotrader_files/accelerate_logo.png" width="84" height="22" alt="Accelerate Logo" loading="lazy" class="ae-img">'+
'																					</div>'+
'																				</div>'+
'																			</div>'+
'																		</div>'+
'																	</div>'+
'																</div>'+
'															</div>'+
'														</div>'+
'													</div>'+
'													<div data-cmp="positionedOverlayAnchor" class="positioned-overlay-anchor topRight">'+
'														<div class="offset-top-50">'+
'															<div class="">'+
'																<div data-cmp="positionedOverlay" class="positioned-overlay display-flex">'+
'																	<div class="positioned-overlay-wrapper">'+
'																		<div data-cmp="positionedOverlayBase" class="positioned-overlay-base">'+
'																			<div class="ribbon text-bold right ribbon-great-price text-size-200 margin-vertical-1 padding-left-3">'+
'																				<div class="ribbon-content-right">GREAT PRICE</div>'+
'																			</div>'+
'																		</div>'+
'																		<div data-cmp="positionedOverlayAnchor" class="positioned-overlay-anchor topLeft">'+
'																			<div style="">'+
'																				<img class="media-gallery-viewer order-2 ae-img" height="34" alt="KBB.com Price Advisor" src="./Used Cars for Sale in Miami, FL (with Photos) - Autotrader_files/KBBSealMed.png" loading="lazy" style="right: 17px;">'+
'																			</div>'+
'																		</div>'+
'																	</div>'+
'																</div>'+
'															</div>'+
'														</div>'+
'													</div>'+
'												</div>'+
'											</div>'+
'										</div>'+
'									</div>';

var selectTemplate = '<option value="VAR_MAKE">VAR_MAKE</option>';
var selectTemplateModel = '<option value="VAR_MODEL">VAR_MODEL</option>';

var makes;
var makeOptionHtml;

$( document ).ready(function(){ 
         $.ajax({ 
             type: "GET",
             dataType: "json",
             url: "http://localhost:8080/getmake",
             success: function(data){        
                makes = data;
                $("#makes").html(generateOptions(selectTemplate,"VAR_MAKE",makes));
             }
         });
         
         $('#makes_select').on('change', function() {
 
			 	var model = this.value; 
			    $.ajax({ 
			             type: "GET",
			             dataType: "json",
			             url: "http://localhost:8080/getmake?make="+make,
			             success: function(data){        
			                models = data;
			                $("#ModelCode").html( generateOptions(selectTemplateModel,"VAR_MODEL",models));
			             }
			     });
		});
    });
    
 function generateOptions(template,replaceValue,values){
 
 	var generatedHtml;
 	
 	for(var x=0;x < values.length; x++){
 		 generatedHtml  +=  template.replaceAll(replaceValue, values[x]); 
 	}
 	
 	return generatedHtml;
 }
 
 
	
